.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_plot_bootstrap.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_bootstrap.py:


======================
ODP Bootstrap Example
======================

This example demonstrates how you can can use the Overdispersed Poisson
Bootstrap sampler and get various properties about parameter uncertainty.



.. image:: /auto_examples/images/sphx_glr_plot_bootstrap_001.png
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    c:\users\jboga\onedrive\documents\github\chainladder-python\chainladder\development\bootstrap.py:64: UserWarning: Process risk not yet implemented...
      warn('Process risk not yet implemented...')
    c:\users\jboga\onedrive\documents\github\chainladder-python\chainladder\core\pandas.py:219: RuntimeWarning: Mean of empty slice
      obj.values = func(obj.values, axis=axis, *args, **kwargs)

    [Text(0.5,0,'LDF'), Text(0.5,1,'Age 12-24 LDF Distribution')]





|


.. code-block:: default

    import chainladder as cl

    import seaborn as sns
    import matplotlib.pyplot as plt
    sns.set_style('whitegrid')


    #  Grab a Triangle
    tri = cl.load_dataset('genins')
    # Generate bootstrap samples
    sims = cl.BootstrapODPSample().fit_transform(tri)
    # Calculate LDF for each simulation
    sim_ldf = cl.Development().fit(sims).ldf_
    sim_ldf = sim_ldf[sim_ldf.origin==sim_ldf.origin.max()]

    # Plot the Data
    fig, ((ax00, ax01), (ax10, ax11)) = plt.subplots(ncols=2, nrows=2, figsize=(10,10))
    tri.T.plot(ax=ax00).set(title='Raw Data', xlabel='Development', ylabel='Incurred')
    sims.mean().T.plot(ax=ax01).set(title='Mean Simulation', xlabel='Development', ylabel='Incurred')
    sim_ldf.T.plot(legend=False, color='lightgray', ax=ax10) \
           .set(title='Simulated LDF', xlabel='Development', ylabel='LDF')
    cl.Development().fit(tri).ldf_.drop_duplicates().T \
                    .plot(legend=False, color='red', ax=ax10)
    sim_ldf.T.loc['12-24'].plot(kind='hist', bins=50, alpha=0.5, ax=ax11) \
                          .set(title='Age 12-24 LDF Distribution', xlabel='LDF');


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  12.333 seconds)


.. _sphx_glr_download_auto_examples_plot_bootstrap.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_bootstrap.py <plot_bootstrap.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_bootstrap.ipynb <plot_bootstrap.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
